<!doctype html>
<html lang="zh">
    <head>
    <meta charset="utf-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#ffffff">
    <title>
        Holly Transition - ä¸œæ–¹å›å£°
    </title>
    <meta name="description" content="**HollyTransition** æ·±å…¥è§£è¯»Androidè¿‡æ¸¡åŠ¨ç”»Transition">
    <meta name="author" content="plucky">
    <meta vmid="keywords" name="keywords" content="æ¥è‡ªä¸œæ–¹çš„å£°éŸ³">
    <link rel="shortcut icon" href="../assets/favicon.ico"
        type="image/x-icon">
    <link rel="icon" href="../assets/favicon.ico"
        type="image/x-icon">
    <script src="../js/dt.js"></script>
    <script src="../js/jquery-2.1.3.min.js"></script>
    <script src="../js/jquery.svg.js"></script>
    <link rel="stylesheet"
        href="../css/bytedesign.min.css">
    <link rel="stylesheet"
        href="../css/app.css">
    <link rel="stylesheet"
        href="../css/default.css">
    <link rel="stylesheet"
        href="../css/jj.css">
    
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_1427835_zgyohh6l1si.css">
    
    <style>
            .footer-tag.width-limited{
                max-width: 120px !important;
            }
        </style>
</head>
    <body>
        <link rel="stylesheet" href="../css/plugins.css">
        <link rel="stylesheet" href="../css/post.css">
        <script src="../js/plugins.js"></script>
        <link
            href="https://cdn.bootcdn.net/ajax/libs/highlight.js/11.9.0/styles/default.min.css"
            rel="stylesheet">
        <script
            src="https://cdn.bootcdn.net/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script>
        <link rel="stylesheet"
            href="https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/11.3be290f.css">
        <div data-server-rendered="true" id="__nuxt">
            <div id="__layout">
                <div id="juejin">
                    <div class="view-container" data-v-5762947c data-v-125fc212>
                        <div class="main-header-box" data-v-5762947c>
    <header data-fetch-key="0"
        class="main-header main-header visible"
        data-v-0bba9d46 data-v-5762947c>
        <div class="container" data-v-0bba9d46>
            <a href="../index.html" class="logo" data-v-0bba9d46>
                <img
                    src="../assets/logo.svg"
                    alt="ç¨€åœŸæ˜é‡‘" class="logo-img" data-v-0bba9d46>
                <img
                    src="../assets/logo_mini.svg"
                    alt="ç¨€åœŸæ˜é‡‘" class="mobile" data-v-0bba9d46>
            </a>
            <!---->
            <nav role="navigation" class="main-nav" data-v-0bba9d46>
                <ul class="nav-list" data-v-0bba9d46>
                    <!---->
                    <li class="main-nav-list" data-v-0bba9d46>
                        <div class="phone-show-menu" data-v-0bba9d46>
                            <span data-v-0bba9d46 id="active_title">
                                é¦–é¡µ
                            </span>
                            <svg width="12" height="12" viewBox="0 0 12 12"
                                fill="none" xmlns="http://www.w3.org/2000/svg"
                                class="unfold16-icon" data-v-0bba9d46
                                data-v-0bba9d46>
                                <path
                                    d="M2.45025 4.82431C2.17422 4.49957 2.40501 4.00049 2.83122 4.00049H9.16878C9.59498 4.00049 9.82578 4.49957 9.54975 4.82431L6.38097 8.55229C6.1813 8.78719 5.8187 8.78719 5.61903 8.55229L2.45025 4.82431Z"
                                    data-v-0bba9d46 data-v-0bba9d46>
                                </path>
                            </svg>
                        </div>
                        <ul class="phone-hide" data-v-0bba9d46>
                            <li
                                class="nav-item link-item "
                                data-v-0bba9d46>
                                <a href="../index.html"
                                    data-v-0bba9d46>
                                    é¦–é¡µ
                                </a>
                            </li>
                            <li
                                class="nav-item link-item activities "
                                data-v-0bba9d46>
                                <a href="../hollow.html"
                                    data-v-0bba9d46>
                                    æ ‘æ´
                                    <span class="text" data-v-0bba9d46>
                                        <!---->
                                    </span>
                                </a>
                            </li>
                            <li
                                class="nav-item link-item "
                                data-v-0bba9d46>
                                <a href="../events.html"
                                    data-v-0bba9d46>
                                    æ´»åŠ¨
                                </a>
                            </li>

                            <nav
                                class="nav-item link-item download-icon "
                                data-v-0bba9d46>
                                <a href="../app.html"
                                    class="download-app no-border"
                                    data-v-0bba9d46>
                                    APP
                                </a>
                            </nav>
                            <nav
                                class="nav-item link-item extension-icon "
                                data-v-0bba9d46>
                                <a
                                    href="../plugins.html"
                                    rel="nofollow noopener noreferrer"
                                    class="broswer-extension no-border"
                                    data-v-0bba9d46>
                                    <span data-v-0bba9d46>
                                        æ’ä»¶
                                    </span>
                                </a>
                            </nav>
                            <!---->
                        </ul>
                    </li>
                    <ul class="right-side-nav" data-v-0bba9d46>
                        <li class="search-add" data-v-0bba9d46>
                            <ul class="search-add-ul" data-v-0bba9d46>
                                <li class="nav-item search" data-v-0bba9d46
                                    id="li_search">
                                    <form role="search" class="search-form"
                                        data-v-0bba9d46>
                                        <input type="search" maxlength="64"
                                            placeholder
                                            value class="search-input"
                                            data-v-0bba9d46>
                                        <div class="seach-icon-container"
                                            data-v-0bba9d46>
                                            <svg width="18" height="18"
                                                viewBox="0 0 18 18" fill="none"
                                                xmlns="http://www.w3.org/2000/svg"
                                                class="search-icon"
                                                id="search_icon_x"
                                                data-v-0bba9d46
                                                data-v-0bba9d46>
                                                <path
                                                    d="M12.4008 12.4008C14.744 10.0577 14.744 6.25871 12.4008 3.91556C10.0577 1.57242 6.25871 1.57242 3.91556 3.91556C1.57242 6.25871 1.57242 10.0577 3.91556 12.4008C6.25871 14.744 10.0577 14.744 12.4008 12.4008ZM12.4008 12.4008L15.5828 15.5828"
                                                    stroke-width="1.5"
                                                    stroke-linecap="round"
                                                    stroke-linejoin="round"
                                                    data-v-0bba9d46
                                                    data-v-0bba9d46>
                                                </path>
                                            </svg>
                                        </div>
                                        <!---->
                                        <div class="typehead"
                                            style="display:none;"
                                            data-v-0bba9d46>
                                            <!---->
                                            <div class="title" data-v-0bba9d46>
                                                <span data-v-0bba9d46>
                                                    æœç´¢å†å²
                                                </span>
                                                <span class="clear"
                                                    data-v-0bba9d46>
                                                    æ¸…ç©º
                                                </span>
                                            </div>
                                            <div class="list" data-v-0bba9d46>
                                            </div>
                                        </div>
                                    </form>
                                </li>
                                <li class="nav-item add creator-item"
                                    id="li_add"
                                    data-v-0bba9d46>
                                    <div class="add-group" data-v-17cc1c49
                                        data-v-0bba9d46>
                                        <!---->
                                        <button class="add-btn" data-v-17cc1c49>
                                            åˆ›ä½œè€…ä¸­å¿ƒ
                                        </button>
                                        <div class="more" data-v-17cc1c49>
                                            <svg width="12" height="12"
                                                viewBox="0 0 12 12" fill="none"
                                                xmlns="http://www.w3.org/2000/svg"
                                                class="unfold12-icon"
                                                data-v-17cc1c49
                                                data-v-17cc1c49>
                                                <path
                                                    d="M2.45025 4.82383C2.17422 4.49908 2.40501 4 2.83122 4H9.16878C9.59499 4 9.82578 4.49908 9.54975 4.82382L6.38097 8.5518C6.1813 8.7867 5.8187 8.7867 5.61903 8.5518L2.45025 4.82383Z"
                                                    fill="white" data-v-17cc1c49
                                                    data-v-17cc1c49>
                                                </path>
                                            </svg>
                                            <div class="more-mask"
                                                data-v-17cc1c49>
                                            </div>
                                            <div class="more-list"
                                                data-v-17cc1c49><ul
                                                    class="menu" data-v-17cc1c49><li
                                                        class="item"
                                                        data-v-17cc1c49><div
                                                            class="icon write-article"
                                                            data-v-17cc1c49></div>
                                                        <div
                                                            class="title"
                                                            data-v-17cc1c49>å†™æ–‡ç« </div></li><li
                                                        class="item"
                                                        data-v-17cc1c49><div
                                                            class="icon issue-points"
                                                            data-v-17cc1c49></div>
                                                        <div
                                                            class="title"
                                                            data-v-17cc1c49>å‘æ²¸ç‚¹</div></li><li
                                                        class="item"
                                                        data-v-17cc1c49><div
                                                            class="icon write-note"
                                                            data-v-17cc1c49></div>
                                                        <div
                                                            class="title"
                                                            data-v-17cc1c49>å†™ç¬”è®°</div></li><li
                                                        class="item"
                                                        data-v-17cc1c49><div
                                                            class="icon create-jcode"
                                                            data-v-17cc1c49></div>
                                                        <div
                                                            class="title"
                                                            data-v-17cc1c49>å†™ä»£ç </div></li><li
                                                        class="item"
                                                        data-v-17cc1c49><div
                                                            class="icon drafts"
                                                            data-v-17cc1c49></div>
                                                        <div class="title"
                                                            data-v-17cc1c49>è‰ç¨¿ç®±</div></li></ul>
                                                <div class="divider"
                                                    data-v-17cc1c49></div>
                                                <div class="inspiration"
                                                    data-v-17cc1c49><div
                                                        class="info"
                                                        data-v-17cc1c49><span
                                                            class="title"
                                                            data-v-17cc1c49>åˆ›ä½œçµæ„Ÿ</span>
                                                        <span class="more-info"
                                                            data-v-17cc1c49>
                                                            æŸ¥çœ‹æ›´å¤š
                                                            <i
                                                                class="icon byte-icon byte-icon--right"
                                                                data-v-17cc1c49><svg
                                                                    t="1561636167146"
                                                                    class="icon"
                                                                    viewBox="0 0 1024 1024"
                                                                    version="1.1"
                                                                    xmlns="http://www.w3.org/2000/svg"
                                                                    p-id="404349"
                                                                    xmlns:xlink="http://www.w3.org/1999/xlink"><path
                                                                        d="M630.4 512L283.52 165.12a21.12 21.12 0 0 1 0-30.08l30.08-30.08a21.12 21.12 0 0 1 30.08 0l377.6 376.96a42.24 42.24 0 0 1 0 60.16l-377.6 376.96a21.12 21.12 0 0 1-30.08 0l-30.08-30.08a21.12 21.12 0 0 1 0-30.08z"
                                                                        p-id="404350"></path></svg></i></span></div>
                                                    <div class="list"
                                                        data-v-17cc1c49><div
                                                            data-v-17cc1c49
                                                            class="item"><span
                                                                data-v-17cc1c49
                                                                class="icon icon-activity">çƒ­é—¨</span>
                                                            <span
                                                                data-v-17cc1c49
                                                                class="title">å†™åŸåˆ›å¥½æ–‡ï¼Œç“œåˆ†ä¸‡å…ƒç°é‡‘å¤§å¥–
                                                                ğŸ’° </span></div><div
                                                            data-v-17cc1c49
                                                            class="item"><span
                                                                data-v-17cc1c49
                                                                class="icon icon-activity">çƒ­é—¨</span>
                                                            <span
                                                                data-v-17cc1c49
                                                                class="title">å¿«é€Ÿæ¬å®¶ï¼Œæ˜é‡‘å†™ä½œä¹‹æ—…å³åˆ»å¯èˆªï¼</span></div>
                                                        <div data-v-17cc1c49
                                                            class="item"><span
                                                                data-v-17cc1c49
                                                                class="icon icon-topic">è¯é¢˜</span>
                                                            <span
                                                                data-v-17cc1c49
                                                                class="title topic-title">1024ä¸€èµ·æ˜é‡‘</span></div>
                                                        <div class="item"
                                                            data-v-090682e2
                                                            data-v-17cc1c49></div></div></div></div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </ul>
            </nav>
        </div>
    </header>
    <script type="text/javascript">
        $(".search-input").focus(()=>{
            $("#li_search").addClass("active");
            $(".search-form").addClass("active");
            $("#search_icon_x").attr('class',"active search-icon");
            $("#li_add").addClass("hide");
        });
        $(".search-input").focusout(()=>{
            $("#li_search").removeClass("active");
            $("#li_add").removeClass("hide");
            $(".search-form").removeClass("active");
            $("#search_icon_x").attr('class',"search-icon");
        });
        $(".phone-show-menu").click(()=>{
            $(".phone-hide").addClass("show");
        });
        $("body").click((e)=>{
            let ele = $(".phone-show-menu");
            if (!ele.is(e.target) && ele.has(e.target).length==0) {
                $(".phone-hide").removeClass("show");    
            }
        });
        $(()=>{
            $("#active_title").text($(".phone-hide>.nav-item.active").text());
        });
    </script>
</div>
                        <main class="container main-container"
                            style="max-width:1140px;"
                            data-v-5762947c>
                            <div class="view column-view"
                                data-v-5762947c
                                data-v-125fc212> <div
                                    class="main-area article-area"
                                    data-v-5762947c data-v-125fc212>
                                    <article itemscope="itemscope"
                                        itemtype="http://schema.org/Article"
                                        data-entry-id="7022606372126588941"
                                        data-draft-id="7022605269393735717"
                                        data-original-type="0"
                                        class="article"
                                        data-v-125fc212 data-v-5762947c>
                                        <h1 class="article-title"
                                            data-v-125fc212>
                                            Holly Transition
                                        </h1>
                                        <div class="author-info-block"
    data-v-125fc212>
    <div class="author-info-box"
        data-v-125fc212>
        <div class="author-name"
            data-v-125fc212>
            <a
                href="/user/2190663523246765/posts"
                target="_blank"
                rel
                class="username username ellipsis"
                data-v-1800aadb
                data-v-125fc212>
                <span class="name"
                    style="max-width:160px;"
                    data-v-1800aadb>
                    default
                </span>

            </a>
        </div>
        <div class="meta-box"
            data-v-125fc212>
            <time
                class="time"
                data-v-125fc212>
                2022-12-15 21:14:27
            </time>
            <svg width="16" height="16"
                viewBox="0 0 16 16"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                class="read-icon"
                data-v-125fc212>
                <path
                    d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z"
                    stroke="currentColor"
                    data-v-125fc212>
                </path>
                <circle cx="7.89922"
                    cy="8.00078" r="2.2"
                    stroke="currentColor"
                    data-v-125fc212>
                </circle>
            </svg>
            
            <script async
                src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <span id="busuanzi_value_page_pv" class="views-count"
                data-v-125fc212>
                0
            </span>
            
        </div>
    </div>
    <div style="flex:1;" data-v-125fc212>
    </div>
</div>
                                        <div id="article-root"
                                            itemprop="articleBody"
                                            class="article-viewer markdown-body cache result"
                                            data-v-125fc212>
                                            <h3 id="é›¶ã€å¯¼è¯»">é›¶ã€å¯¼è¯»</h3><p>æ·±å…¥è§£è¯»Androidè¿‡æ¸¡åŠ¨ç”»Transition:</p>
<ol>
<li><strong>é¡µé¢åˆ‡æ¢åŠ¨ç”»(è¿‡åœºåŠ¨ç”»)</strong></li><li><strong>å…±äº«å…ƒç´ åŠ¨ç”»</strong></li><li><strong>å»¶æ—¶åŠ¨ç”»</strong></li><li><strong>åœºæ™¯åŠ¨ç”»</strong></li></ol>
<h3 id="ä¸€ã€transitionå‰ä¸–ä»Šç”Ÿ">ä¸€ã€Transitionå‰ä¸–ä»Šç”Ÿ</h3><blockquote>
<p>ä¸ºäº†æ”¯æŒå„ç§äº¤äº’è§†è§‰è®¾è®¡çš„ä¸æ–­æ›´æ–°ï¼ŒAndroidå¯¹äºå¼€å‘è€…æä¾›äº†è¶Šæ¥è¶Šå¤šçš„åŠ¨ç”»APIæ”¯æŒã€‚ä»API 1å°±å­˜åœ¨çš„Drawable Animationå’ŒView Animationï¼Œä»¥åŠAPI 11(Android 3.0)ä»¥ååŠ å…¥çš„Property Animationã€‚è€Œè¿‡æ¸¡åŠ¨ç”»Transitionæ˜¯åœ¨API 19(Android 4.4.2)ä¸­åŠ å…¥çš„ã€‚è¯´é“ç‚«é…·çš„åŠ¨ç”»ï¼Œå¾ˆå¤šäººé¦–å…ˆæƒ³åˆ°çš„æ˜¯Android5.0å¼€å‘æµè¡Œèµ·æ¥çš„å…±äº«å…ƒç´ åŠ¨ç”»ã€‚ç„¶è€Œå…±äº«å…ƒç´ åŠ¨ç”»åªæ˜¯Transitionçš„å†°å±±ä¸€è§’ã€‚ä»Šå¤©å°±è®©æˆ‘ä»¬æ¥ä¸€ä¸€æ­å¼€ã€‚</p>
</blockquote>
<h3 id="äºŒã€ä¸ºä»€ä¹ˆè¦å¼•å…¥transition">äºŒã€ä¸ºä»€ä¹ˆè¦å¼•å…¥Transition</h3><blockquote>
<p>é‚£ä¸ºä»€ä¹ˆè¦å¼•å…¥TransitionåŠ¨ç”»å‘¢ï¼Ÿç”±äºåœ¨Androidå¼•å…¥äº†Metrial Desigonä¹‹åï¼ŒåŠ¨ç”»çš„åœºé¢è¶Šæ¥è¶Šå¤§ï¼Œæ¯”å¦‚ä»¥å‰æˆ‘ä»¬åˆ¶ä½œä¸€ä¸ªåŠ¨ç”»å¯èƒ½æ¶‰åŠåˆ°çš„Viewå°±ä¸€ä¸ªï¼Œæˆ–è€…å°±é‚£ä¹ˆå‡ ä¸ªï¼Œå¦‚æœæˆ‘ä»¬ä¸€ä¸ªåŠ¨ç”»ä¸­æ¶‰åŠåˆ°äº†å½“å‰Activityè§†å›¾æ ‘ä¸­çš„å„ä¸ªViewï¼Œé‚£ä¹ˆæƒ…å†µå°±å¤æ‚äº†ã€‚æ¯”å¦‚æˆ‘ä»¬è¦ä¸€æ¬¡é’ˆå¯¹è§†å›¾æ ‘ä¸­çš„10ä¸ªViewè¿›è¡ŒåŠ¨ç”»ï¼Œè¿™äº›Viewçš„æ•ˆæœéƒ½ä¸åŒï¼Œå¯èƒ½æœ‰çš„æ˜¯å¹³ç§»ï¼Œæœ‰çš„æ˜¯æ—‹è½¬ï¼Œæœ‰çš„æ˜¯æ·¡å…¥æ·¡å‡ºï¼Œé‚£ä¹ˆä¸ç®¡æ˜¯ä½¿ç”¨ä¹‹å‰å“ªç§æ–¹å¼çš„åŠ¨ç”»ï¼Œæˆ‘ä»¬éƒ½éœ€è¦ä¸ºæ¯ä¸ªViewå®šä¹‰ä¸€ä¸ªå¼€å§‹çŠ¶æ€å’Œç»“æŸçŠ¶æ€ã€å…³é”®å¸§ï¼Œæ¯”å¦‚æ”¾ç¼©ï¼Œæˆ‘ä»¬å¾—è®¾ç½®fromXScaleå’ŒtoXScale ã€‘ï¼Œéšç€Viewä¸ªæ•°çš„å¢åŠ ï¼Œè¿™ä¸ªæƒ…å†µä¼šè¶Šæ¥è¶Šå¤æ‚ã€‚è¿™ä¸ªæ—¶å€™å¦‚æœä½¿ç”¨ä¸€å †Animatorå»å®ç°è¿™ä¸€è¿ä¸²åŠ¨ç”»ï¼Œä»£ç å°†ä¼šåˆè‡­åˆé•¿ï¼ŒTransitionçš„å‡ºç°å¤§å¤§å‡è½»äº†å¼€å‘çš„å·¥ä½œã€‚</p>
</blockquote>
<h3 id="ä¸‰ã€é¡µé¢åˆ‡æ¢åŠ¨ç”»(è¿‡åœºåŠ¨ç”»)">ä¸‰ã€é¡µé¢åˆ‡æ¢åŠ¨ç”»(è¿‡åœºåŠ¨ç”»)</h3><blockquote>
<p>ä»¥å‰ä½¿ç”¨è¿‡åœºåŠ¨ç”»æ—¶ï¼Œå®ç°å…±äº«å…ƒç´ ï¼Œä¸»è¦æ˜¯ä½¿ç”¨Activityï¼Œä½†æ˜¯æœ‰é‡åˆ°å¾ˆå¤šå‘ï¼šæ¯”å¦‚æœ€ä¸¥é‡çš„ä¸€ä¸ªæ˜¯åœ¨æŸäº›æœºå‹ä¸Šå‡ºç°åšè¿”åœºåŠ¨ç”»æ—¶ï¼Œç¬¬äºŒä¸ªé¡µé¢çš„ç”»é¢è¿˜æ®‹ç•™åœ¨é¡µé¢ä¸Šï¼›ç¬¬äºŒä¸ªé—®é¢˜æ˜¯ï¼Œåœ¨å­˜åœ¨è™šæ‹Ÿå¯¼èˆªæ çš„æ‰‹æœºä¸Šï¼Œç”±äºä¸åŒActivityæ˜¯åœ¨ä¸åŒçš„Windowä¸Šç»˜åˆ¶çš„ï¼Œåœ¨Activityåˆ‡æ¢æ—¶ç•Œé¢å­˜åœ¨é—ªçƒçš„æƒ…å†µã€‚è€ŒFragmentçš„åˆ‡æ¢åˆ™ä¸å­˜åœ¨è¿™æ ·çš„é—®é¢˜ã€‚ç»¼åˆè€ƒè™‘ï¼Œå†³å®šä½¿ç”¨Fragmentã€‚</p>
</blockquote>
<h4 id="ç¤ºä¾‹å›¾1ï¼šå…¥åœºåŠ¨ç”»">ç¤ºä¾‹å›¾1ï¼šå…¥åœºåŠ¨ç”»</h4><p><img src='https://github.com/Pluckypan/HollyTransition/raw/master/images/transition_in.gif' alt='å…¥åœºåŠ¨ç”»' width='auto' height='auto' style='width:autopx !important;height:autopx !important;'></p>
<h4 id="ç¤ºä¾‹å›¾2ï¼šè¿”åœºåŠ¨ç”»">ç¤ºä¾‹å›¾2ï¼šè¿”åœºåŠ¨ç”»</h4><p><img src='https://github.com/Pluckypan/HollyTransition/raw/master/images/transition_out.gif' alt='è¿”åœºåŠ¨ç”»' width='auto' height='auto' style='width:autopx !important;height:autopx !important;'></p>
<h4 id="ä¸‰(1)ã€å…±äº«å…ƒç´ åŠ¨ç”»">ä¸‰(1)ã€å…±äº«å…ƒç´ åŠ¨ç”»</h4><blockquote>
<p>å¦‚ä¸Šå›¾ä¸­ <strong>ç”»å»ŠæŒ‰é’®</strong>ã€<strong>æ‹æ‘„æŒ‰é’®</strong>ã€<strong>è®¾ç½®æŒ‰é’®</strong> ;é¡µé¢åˆ‡æ¢æ—¶ï¼Œå¯¹å…±äº«å…ƒç´ åŠ¨ç”»æ¥è®²ï¼Œé‡è¦çš„å‡½æ•°æœ‰ä»¥ä¸‹å‡ ä¸ªã€‚å…±äº«å…ƒç´ æ‰§è¡Œçš„åŠ¨ç”»ä¸»è¦æ˜¯é’ˆå¯¹å°†è¦è¿›å…¥çš„é¡µé¢çš„ã€‚ä¸€ä¸ªæ˜¯å…¥åœºåŠ¨ç”» EnterTransition,å¦ä¸€ä¸ªæ˜¯è¿”åœº ReturnTransitionã€‚åœ¨åšå…±äº«å…ƒç´ åŠ¨ç”»æ—¶ï¼Œéœ€è¦åœ¨å‰åä¸¤ä¸ªé¡µé¢å¯¹å…±äº«å…ƒç´ è®¾å®šTransitionNameï¼Œä¸”å¯¹åº”çš„ä¸¤ä¸ªViewï¼ŒTransitionNameéœ€è¦ç›¸åŒã€‚</p>
</blockquote>
<pre><code>//åœ¨ç¬¬äºŒä¸ªé¡µé¢(å³è¦è¿›å…¥çš„é‚£ä¸ªé¡µé¢)è®¾ç½®å…±äº«å…ƒç´ TransitionName  ViewCompatå¯å…¼å®¹5.0ä»¥ä¸‹ç‰ˆæœ¬ï¼Œä¸æŠ¥é”™
ViewCompat.setTransitionName(mFakeLeft, SHARE_NAME_LEFT);
ViewCompat.setTransitionName(mPhotoBtn, SHARE_NAME_MIDDLE);
ViewCompat.setTransitionName(mFakeRight, SHARE_NAME_RIGHT);

//è®¾å®šå…¥åœºåŠ¨ç”»å’Œè¿”åœºåŠ¨ç”»
fragment.setSharedElementEnterTransition(new ChangeBounds());
fragment.setSharedElementReturnTransition(new ChangeBounds());

//æ·»åŠ å…±äº«å…ƒç´ 
FragmentTransaction fragmentTransaction = getFragmentManager().beginTransaction();
fragmentTransaction.replace(R.id.app_ctrl_view, fragment);
fragmentTransaction.addToBackStack(null);
if (shareViews != null &amp;&amp; shareViews.length &gt; 0) {
    for (Pair&lt;View, String&gt; shareView : shareViews) {
        fragmentTransaction.addSharedElement(shareView.first, shareView.second);
    }
}
fragmentTransaction.commit();
</code></pre><h5 id="ç–‘é—®ï¼šä¸Šå›¾çš„å…±äº«å…ƒç´ æ˜¯å¦‚ä½•å®ç°å½¢å˜çš„è¿‡ç¨‹ä¸­å‘ç”Ÿalphaå˜åŒ–çš„ï¼Ÿ">ç–‘é—®ï¼šä¸Šå›¾çš„å…±äº«å…ƒç´ æ˜¯å¦‚ä½•å®ç°å½¢å˜çš„è¿‡ç¨‹ä¸­å‘ç”Ÿalphaå˜åŒ–çš„ï¼Ÿ</h5><blockquote>
<p>åˆšå¼€å§‹ï¼Œå‡†å¤‡ç›´æ¥ä½¿ç”¨ xml å®šåˆ¶åŠ¨ç”»ï¼Œä¸€ä¸ªchangeBounds(å·¦ä¸­å³ä¸‰ä¸ªæŒ‰é’®åŒæ—¶å½¢å˜) + ä¸€ä¸ª fade (å·¦å³æŒ‰é’®åœ¨å½¢å˜çš„åŒæ—¶ fadeout),ä½†æ˜¯å‘ç°åªæœ‰å½¢å˜ç”Ÿæ•ˆã€‚äºæ˜¯å°è¯•ä½¿ç”¨è‡ªå®šä¹‰ChangeBoundsæ¥æ”¹é€ å…±äº«å…ƒç´ åŠ¨ç”»ï¼Œåœ¨createAnimatorä¸­æ‹¿åˆ°Animatorï¼Œä»è€Œå¯ä»¥æ‹¿åˆ°Animatorå˜åŒ–çš„è¿‡ç¨‹ <code>ValueAnimator.AnimatorUpdateListener</code>,è¿™æ ·å°±å¯ä»¥å®ç°å½¢å˜çš„åŒæ—¶ï¼Œå‘ç”Ÿalphaçš„å˜åŒ–ã€‚ <a href='https://github.com/Pluckypan/HollyTransition/blob/master/app/src/main/java/engineer/echo/transition/cmpts/widget/transition/BoundsAndAlpha.java' title='' target='_blank'>ç¤ºä¾‹ä»£ç </a></p>
</blockquote>
<pre><code>// æ”¹é€ éœ€è¦äº†è§£Transitionçš„ä¸‰å¤§æ ¸å¿ƒæ–¹æ³•å¦‚ä¸‹ã€‚
@Override
public void captureStartValues(TransitionValues transitionValues) {
    super.captureStartValues(transitionValues);
    Log.d(TAG, &quot;captureStartValues: transitionValues=&quot; + transitionValues);
}

@Override
public void captureEndValues(TransitionValues transitionValues) {
    super.captureEndValues(transitionValues);
    Log.d(TAG, &quot;captureEndValues: transitionValues=&quot; + transitionValues);
}

@Override
public Animator createAnimator(ViewGroup sceneRoot, TransitionValues startValues, TransitionValues endValues) {
    return super.createAnimator(sceneRoot, startValues, endValues);
}
</code></pre><h4 id="ä¸‰(2)ã€å†…å®¹åŠ¨ç”»">ä¸‰(2)ã€å†…å®¹åŠ¨ç”»</h4><blockquote>
<p>å¦‚ä¸Šé¢å›¾ç‰‡ä¸­ï¼Œè®¾ç½®é¡µé¢çš„<strong>èƒŒæ™¯æ¸å˜</strong>ã€<strong>åŠ¨èµ·æ¥ SlideUp</strong>ã€<strong>åŠŸèƒ½è¯´æ˜ SlideUp</strong>;æ‹æ‘„é¡µé¢çš„<strong>è¿›åº¦æ¡å°é¢ Slide Left&amp;Right</strong>ã€‚è¿™é‡Œæ‰€è¯´çš„<code>å†…å®¹åŠ¨ç”»</code>ï¼ŒæŒ‡çš„æ˜¯Fragmentå¸ƒå±€ä¸­é™¤å…±äº«å…ƒç´ å¤–çš„Viewæ‰§è¡Œçš„åŠ¨ç”»ï¼Œä¸»è¦æ˜¯ä¸ºäº†åŒºåˆ†<code>å…±äº«å…ƒç´ åŠ¨ç”»</code>ã€‚å¯¹å†…å®¹è¿‡åœºåŠ¨ç”»æ¯”è¾ƒé‡è¦çš„å‡ ä¸ªå‡½æ•°,ä¸‹é¢è¿™ç§å›¾æ¯”è¾ƒå½¢è±¡åœ°æè¿°è¿™ä¸ªå…³ç³»ã€‚Activityå’ŒFragmentçš„æ„æ€æ˜¯ä¸€æ ·çš„ã€‚è¿™é‡Œä»¥Activityçš„ç¤ºæ„å›¾æ¥è¯´æ˜ã€‚</p>
</blockquote>
<h5 id="ç¤ºä¾‹å›¾3ï¼šå…¥åœºåŠ¨ç”»å¯¹åº”å…³ç³»">ç¤ºä¾‹å›¾3ï¼šå…¥åœºåŠ¨ç”»å¯¹åº”å…³ç³»</h5><p><img src='https://github.com/Pluckypan/HollyTransition/raw/master/images/transition-0.png' alt='å…¥åœºåŠ¨ç”»' width='auto' height='auto' style='width:autopx !important;height:autopx !important;'></p>
<h5 id="ç¤ºä¾‹å›¾4ï¼šè¿”åœºåŠ¨ç”»å¯¹åº”å…³ç³»">ç¤ºä¾‹å›¾4ï¼šè¿”åœºåŠ¨ç”»å¯¹åº”å…³ç³»</h5><p><img src='https://github.com/Pluckypan/HollyTransition/raw/master/images/transition-1.png' alt='è¿”åœºåŠ¨ç”»' width='auto' height='auto' style='width:autopx !important;height:autopx !important;'></p>
<pre><code class="lang-java">TransitionSet transitionSet=new TransitionSet();
//ä» A Fragment è¿›å…¥ B Fragment,Aä¼šæ‰§è¡Œ ExitTransition,B ä¼šæ‰§è¡ŒEnterTransition
fragment.setEnterTransition(transitionSet);
fragment.setExitTransition(transitionSet);
//æŒ‰è¿”å›é”®æ—¶ï¼ŒB Fragment ä¼špopå‡ºæ ˆï¼Œæ‰§è¡ŒReturnTransitionï¼Œæ­¤æ—¶ A Fragment é‡æ–°å›åˆ°æ ˆé¡¶ï¼Œæ‰§è¡ŒReEnterTransition.
fragment.setReenterTransition(transitionSet);
fragment.setReturnTransition(transitionSet);
</code></pre>
<h3 id="å››ã€å»¶æ—¶åŠ¨ç”»(transitionmanager.begindelayedtransition)">å››ã€å»¶æ—¶åŠ¨ç”»(TransitionManager.beginDelayedTransition)</h3><h4 id="å››(1)ã€è¿›åº¦æ¡å¹³æ»‘è¿‡æ¸¡">å››(1)ã€è¿›åº¦æ¡å¹³æ»‘è¿‡æ¸¡</h4><blockquote>
<p>iOSè¿›åº¦æ¡æœ‰ä¸ªæ–¹æ³•ï¼š- (void)setProgress:(float)progress animated:(BOOL)animated; å¦‚æœanimated=true é‚£ä¹ˆï¼Œè®¾ç½®è¿›åº¦æ—¶ï¼Œä¼šä»å½“å‰è¿›åº¦å¹³æ»‘è¿‡æ¸¡åˆ°ç›®æ ‡è¿›åº¦ï¼Œå¤§å¤§æå‡äº†ç”¨æˆ·ä½“éªŒã€‚Androidè¿›åº¦æ¡å¹¶ä¸å…·å¤‡è¿™ç§åŠŸèƒ½ï¼Œåªèƒ½è®¾å®šä¸€ä¸ªprogress,æ§ä»¶å°±åƒµç¡¬åœ°è·³åˆ°å¯¹åº”çš„ä½ç½®ã€‚ä½†æ˜¯å€ŸåŠ©Transitionï¼Œå¯å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚ <a href='https://github.com/Pluckypan/HollyTransition/blob/master/app/src/main/java/engineer/echo/transition/cmpts/widget/transition/ProgressTransition.java' title='' target='_blank'>ç¤ºä¾‹ä»£ç </a></p>
</blockquote>
<h5 id="ç¤ºä¾‹å›¾5ï¼šå®ç°è¿›åº¦æ¡å¹³æ»‘è¿‡æ¸¡">ç¤ºä¾‹å›¾5ï¼šå®ç°è¿›åº¦æ¡å¹³æ»‘è¿‡æ¸¡</h5><p><img src='https://github.com/Pluckypan/HollyTransition/raw/master/images/progress.gif' alt='è¿›åº¦æ¡' width='auto' height='auto' style='width:autopx !important;height:autopx !important;'></p>
<h4 id="å››(2)ã€æ”¾å¤§ç¼©å°æ•ˆæœ">å››(2)ã€æ”¾å¤§ç¼©å°æ•ˆæœ</h4><h5 id="ç¤ºä¾‹å›¾6ï¼šå®ç°åŒä¸€viewgroupä¸­ä¸¤ä¸ªviewä¹‹é—´åè°ƒæ”¾å¤§ä¸ç¼©å°æ•ˆæœ">ç¤ºä¾‹å›¾6ï¼šå®ç°åŒä¸€ViewGroupä¸­ä¸¤ä¸ªViewä¹‹é—´åè°ƒæ”¾å¤§ä¸ç¼©å°æ•ˆæœ</h5><p><img src='https://github.com/Pluckypan/HollyTransition/raw/master/images/scale.gif' alt='æ”¾å¤§ç¼©å°' width='auto' height='auto' style='width:autopx !important;height:autopx !important;'></p>
<h4 id="å››(3)ã€slideä¸fadeç»„åˆåŠ¨ç”»">å››(3)ã€Slideä¸Fadeç»„åˆåŠ¨ç”»</h4><h5 id="ç¤ºä¾‹å›¾7ï¼šä»ä¸Šæ»‘å…¥ä»ä¸‹æ»‘å‡ºå¹¶ä¸”æ¸å…¥æ¸å‡º">ç¤ºä¾‹å›¾7ï¼šä»ä¸Šæ»‘å…¥ä»ä¸‹æ»‘å‡ºå¹¶ä¸”æ¸å…¥æ¸å‡º</h5><p><img src='https://github.com/Pluckypan/HollyTransition/raw/master/images/slide_fade.gif' alt='æ¸å…¥æ¸å‡º' width='auto' height='auto' style='width:autopx !important;height:autopx !important;'></p>
<h3 id="äº”ã€è·¯å¾„åŠ¨ç”»">äº”ã€è·¯å¾„åŠ¨ç”»</h3><blockquote>
<p>è·¯å¾„åŠ¨ç”»åœ¨æ—¥å¸¸APPä¸­ä½¿ç”¨çš„åœºæ™¯å¾ˆå¤šï¼Œæ¯”å¦‚äº¬ä¸œã€å¤©çŒ« æ·»åŠ å•†å“è‡³è´­ç‰©è½¦çš„åŠ¨ç”»ã€‚å®ç°èµ·æ¥éå¸¸ç®€å•ã€‚ç›´æ¥ä½¿ç”¨Transition.setPathMotion(new ArcMotion());ç„¶åç»“åˆå»¶æ—¶åŠ¨ç”»TransitionManager.beginDelayedTransition()å³å¯ã€‚</p>
</blockquote>
<h5 id="ç¤ºä¾‹å›¾ç‰‡8ï¼šæ™®é€šè·¯å¾„åŠ¨ç”»">ç¤ºä¾‹å›¾ç‰‡8ï¼šæ™®é€šè·¯å¾„åŠ¨ç”»</h5><p><img src='https://github.com/Pluckypan/HollyTransition/raw/master/images/path_normal.gif' alt='è·¯å¾„åŠ¨ç”»-æ™®é€š' width='auto' height='auto' style='width:autopx !important;height:autopx !important;'></p>
<h5 id="ç¤ºä¾‹å›¾ç‰‡9ï¼šè·¯å¾„åŠ¨ç”»åœ¨å…±äº«å…ƒç´ ä¸­çš„è¿ç”¨">ç¤ºä¾‹å›¾ç‰‡9ï¼šè·¯å¾„åŠ¨ç”»åœ¨å…±äº«å…ƒç´ ä¸­çš„è¿ç”¨</h5><p><img src='https://github.com/Pluckypan/HollyTransition/raw/master/images/path_share_element.gif' alt='è·¯å¾„åŠ¨ç”»-æ™®é€š' width='auto' height='auto' style='width:autopx !important;height:autopx !important;'></p>
<h3 id="å…­ã€æºç è§£æ">å…­ã€æºç è§£æ</h3><blockquote>
<p>å…¥åœºåŠ¨ç”»æ—¶ï¼Œæ˜¯ç›´æ¥æ‹¿ç€ è¿›å…¥é¡µé¢çš„Viewè¿›è¡ŒåŠ¨ç”»çš„ï¼Œè¿”åœºåŠ¨ç”»æ—¶ï¼Œä¸ç›´æ¥æ‹¿ç€Viewè¿›è¡ŒåŠ¨ç”»ï¼Œè€Œæ˜¯åœ¨Overlapä¸Šï¼Œåˆ›å»ºä¸Targetså¯¹åº”çš„ImageViewï¼Œç„¶åæˆªå–Targetsçš„ç”»é¢ï¼Œæ˜¾ç¤ºåœ¨ImageViewä¸Šï¼Œè¿”åœºåŠ¨ç”»ä¸»è¦æ˜¯åœ¨Overlapä¸Šè¿›è¡Œçš„ã€‚</p>
</blockquote>
<pre><code class="lang-java">    public Animator onDisappear(ViewGroup sceneRoot,
                                TransitionValues startValues, int startVisibility,
                                TransitionValues endValues, int endVisibility) {
        if ((mMode &amp; MODE_OUT) != MODE_OUT) {
            return null;
        }

        View startView = (startValues != null) ? startValues.view : null;
        View endView = (endValues != null) ? endValues.view : null;
        /**
         * è¯´æ˜å‡ ç‚¹ï¼š
         * #1 onDisappearæ–¹æ³•ä½äºandroid.transition.Visibilityç±»ä¸­
         * #2 åœ¨è¿”åœºåŠ¨ç”»æ—¶ï¼Œåœºæ™¯ä¸­æ¯ä¸ªè¢«æ·»åŠ è¿›Transitionçš„Targetéƒ½ä¼šæ‰§è¡Œè¯¥æ–¹æ³•
         * #3 è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªoverlayViewï¼Œå…ˆæ ‡è®°ä¸‹ï¼Œåé¢ä¼šç”¨å¾—åˆ°
         */
        View overlayView = null;
        View viewToKeep = null;
        if (endView == null || endView.getParent() == null) {
            if (endView != null) {
                // endView was removed from its parent - add it to the overlay
                overlayView = endView;
            } else if (startView != null) {
                // endView does not exist. Use startView only under certain
                // conditions, because placing a view in an overlay necessitates
                // it being removed from its current parent
                if (startView.getParent() == null) {
                    // no parent - safe to use
                    overlayView = startView;
                } else if (startView.getParent() instanceof View) {
                    /**
                     * å¦‚æœStartViewå­˜åœ¨çˆ¶å¸ƒå±€
                     */
                    View startParent = (View) startView.getParent();
                    TransitionValues startParentValues = getTransitionValues(startParent, true);
                    TransitionValues endParentValues = getMatchedTransitionValues(startParent,
                            true);
                    VisibilityInfo parentVisibilityInfo =
                            getVisibilityChangeInfo(startParentValues, endParentValues);
                    if (!parentVisibilityInfo.visibilityChange) {
                        /**
                         * å¦‚æœStartViewçˆ¶å¸ƒå±€åœ¨åŠ¨ç”»è¿‡ç¨‹ä¸­æœªå‚ä¸Visibilityå˜åŒ–çš„è¯ï¼Œé‚£ä¹ˆå°±ä¼š
                         * åˆ›å»ºä¸€ä¸ªImageViewï¼Œå¹¶å°†StartView ç”»å¸ƒCanvasä¸Šçš„å†…å®¹è½¬æ¢ä¸ºBitmapè®¾ç½®åˆ°æ–°åˆ›å»ºçš„ImageViewä¸Š
                         */
                        overlayView = TransitionUtils.copyViewImage(sceneRoot, startView,
                                startParent);
                    } else if (startParent.getParent() == null) {
                        int id = startParent.getId();
                        if (id != View.NO_ID &amp;&amp; sceneRoot.findViewById(id) != null
                                &amp;&amp; mCanRemoveViews) {
                            // no parent, but its parent is unparented  but the parent
                            // hierarchy has been replaced by a new hierarchy with the same id
                            // and it is safe to un-parent startView
                            overlayView = startView;
                        }
                    }
                }
            }
        } else {
            // visibility change
            if (endVisibility == View.INVISIBLE) {
                viewToKeep = endView;
            } else {
                // Becoming GONE
                if (startView == endView) {
                    viewToKeep = endView;
                } else {
                    overlayView = startView;
                }
            }
        }
        final int finalVisibility = endVisibility;
        final ViewGroup finalSceneRoot = sceneRoot;

        if (overlayView != null) {
            // TODO: Need to do this for general case of adding to overlay
            int[] screenLoc = (int[]) startValues.values.get(PROPNAME_SCREEN_LOCATION);
            int screenX = screenLoc[0];
            int screenY = screenLoc[1];
            int[] loc = new int[2];
            sceneRoot.getLocationOnScreen(loc);
            overlayView.offsetLeftAndRight((screenX - loc[0]) - overlayView.getLeft());
            overlayView.offsetTopAndBottom((screenY - loc[1]) - overlayView.getTop());
            /**
             * é€šè¿‡ä¸Šé¢ä¸€ç³»åˆ—çš„åˆ¤æ–­ï¼Œæœ€ç»ˆä¼šå°†å¾—åˆ°çš„overlayViewæ·»åŠ åˆ° åœºæ™¯ä¸€ï¼ˆåŠAé¡µé¢ï¼‰æ ¹éƒ¨å±€çš„Overlapä¸Š
             * ä¹Ÿå°±æ˜¯è¯´ï¼Œå…¶å®åœ¨åšè¿”åœºåŠ¨ç”»æ—¶ï¼Œæ‰€æœ‰çš„åŠ¨ç”»éƒ½æ˜¯åœ¨ Aé¡µé¢çš„Overlapä¸Šè¿›è¡Œçš„ã€‚åšå®ŒåŠ¨ç”»å†å°†å…¶ä»Overlapä¸Šç§»é™¤ã€‚
             * è¿™é‡Œçš„overlayViewå¯èƒ½æ˜¯ Bé¡µé¢çš„æ§ä»¶ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯Bé¡µé¢æ§ä»¶çš„ç”»é¢ï¼ˆnewäº†ä¸€ä¸ªImageViewçš„å½¢å¼å±•ç¤ºï¼‰
             * ä»€ä¹ˆæ˜¯Overlap,å¯å‚è€ƒæ–‡ç« ï¼šhttp://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2015/0130/2384.html
             */
            sceneRoot.getOverlay().add(overlayView);
            Animator animator = onDisappear(sceneRoot, overlayView, startValues, endValues);
            if (animator == null) {
                sceneRoot.getOverlay().remove(overlayView);
            } else {
                final View finalOverlayView = overlayView;
                addListener(new TransitionListenerAdapter() {
                    @Override
                    public void onTransitionEnd(Transition transition) {
                        finalSceneRoot.getOverlay().remove(finalOverlayView);
                    }
                });
            }
            return animator;
        }

        if (viewToKeep != null) {
            int originalVisibility = viewToKeep.getVisibility();
            viewToKeep.setTransitionVisibility(View.VISIBLE);
            Animator animator = onDisappear(sceneRoot, viewToKeep, startValues, endValues);
            if (animator != null) {
                DisappearListener disappearListener = new DisappearListener(viewToKeep,
                        finalVisibility, mSuppressLayout);
                animator.addListener(disappearListener);
                animator.addPauseListener(disappearListener);
                addListener(disappearListener);
            } else {
                viewToKeep.setTransitionVisibility(originalVisibility);
            }
            return animator;
        }
        return null;
    }

</code></pre>
<h3 id="ä¸ƒã€é‡åˆ°çš„é—®é¢˜">ä¸ƒã€é‡åˆ°çš„é—®é¢˜</h3><ol>
<li>Sceneåˆ‡æ¢æ—¶ä¼šRemoveAllView å¯¼è‡´ä¹‹å‰è®¾ç½®ç‚¹å‡»äº‹ä»¶æ¶ˆå¤±</li><li>é€€åœºåŠ¨ç”»æ—¶ï¼Œä¼šæˆªå–Viewçš„canvasï¼Œå¹¶åœ¨Aé¡µé¢rootviewçš„overlapä¸Šæ·»åŠ ImageView,å¦‚æœè‡ªå®šä¹‰æ§ä»¶æœ‰å½±å“canvasçš„ç»˜åˆ¶è¿‡ç¨‹ï¼Œåˆ™æ·»åŠ åˆ°ImageViewä¸Šçš„Bitmapå¯èƒ½ä¸æ­£ç¡®</li><li>å…±äº«å…ƒç´ å¿…é¡»æ˜¯RootViewçš„ç›´æ¥å­View</li><li>åšé¡µé¢é—´çš„è¿‡æ¸¡åŠ¨ç”»æ—¶ï¼Œä¸¤ä¸ªé¡µé¢å°½é‡ç®€å•ï¼Œæ¯”å¦‚åŠ è½½ç½‘ç»œå›¾ç‰‡æ—¶ï¼Œå¯ä»¥å…ˆä½¿ç”¨å‰ä¸€ä¸ªé¡µé¢çš„å›¾ç‰‡åšåŠ¨ç”»ï¼Œç­‰åŠ¨ç”»åšå®Œåå†å»åŠ è½½å›¾ç‰‡ã€‚ä¸å¯ä»¥ä¸€è¾¹å„¿åšåŠ¨ç”»ï¼Œä¸€è¾¹å„¿åŠ è½½å›¾ç‰‡ï¼Œä¼šé€ æˆåŠ¨ç”»å¾ˆé—ªçƒã€‚</li><li>Fragmentè®¾ç½®TransitionOverlapæ— æ•ˆï¼Œè¿˜éœ€è¦ç ”ç©¶ä¸‹ã€‚<pre><code class="lang-java">fragment.setAllowEnterTransitionOverlap(false);
fragment.setAllowReturnTransitionOverlap(false);
</code></pre>
</li><li>åœ¨Fragmentä¸­ä½¿ç”¨ <strong>å…±äº«å…ƒç´ åŠ¨ç”»</strong> æ—¶ï¼Œéœ€è¦ä¸¤ä¸ªFragmentåŸºäºåŒä¸€ä¸ª<code>layout_id</code>,ç„¶åé€šè¿‡<code>replace</code>çš„å½¢å¼æ‰“å¼€ã€‚</li></ol>
<h3 id="å…«ã€todo">å…«ã€TODO</h3><ul>
<li style="list-style: none"><input class="eedoc_todo" type="checkbox" disabled=""> å›¾ç‰‡åˆ‡æ¢å¹³æ»‘è¿‡æ¸¡æ•ˆæœ</li><li style="list-style: none"><input class="eedoc_todo" type="checkbox" disabled=""> é¢œè‰²å˜åŒ–å¹³æ»‘è¿‡æ¸¡</li><li style="list-style: none"><input class="eedoc_todo" type="checkbox" disabled=""> æ–‡å­—å˜åŒ–å¹³æ»‘è¿‡æ¸¡</li></ul>
<h3 id="ä¹ã€å‚è€ƒé¡¹ç›®">ä¹ã€å‚è€ƒé¡¹ç›®</h3><ul>
<li><p><a href='https://github.com/andkulikov/Transitions-Everywhere' title='' target='_blank'>Transitions-Everywhere</a></p>
<blockquote>
<p>Transitions-Everywhere å¯æ”¯æŒTransitonåŠ¨ç”»åˆ° Android 4.O ,å¹¶ä¸”å…¼å®¹ Android 2.2 +ï¼ˆæ— åŠ¨ç”»ä½†ä¿è¯è¿è¡Œï¼‰.</p>
</blockquote>
</li><li><p><a href='https://github.com/lgvalle/Material-Animations' title='' target='_blank'>Material-Animations</a></p>
<blockquote>
<p>è¯¦ç»†è§£è¯»Fragmentä¸Fragment Activityä¸Activity Activityä¸Fragmentä¹‹é—´çš„åˆ‡æ¢åŠ¨ç”»</p>
</blockquote>
</li><li><p><a href='https://github.com/WakeHao/TransitionExample' title='' target='_blank'>TransitionExample</a></p>
<blockquote>
<p>æ—©åœ¨Android 4.4ï¼ŒTransition å°±å·²ç»å¼•å…¥ï¼Œä½†åœ¨5.0æ‰å¾—ä»¥çœŸæ­£çš„å®ç°ã€‚è€Œç©¶ç«ŸTransitionæ˜¯ç”¨æ¥å¹²å˜›çš„å‘¢?è¿™ä¸ªDemoå¯ä»¥å¸¦ä½ ç†Ÿæ‚‰åŸºæœ¬çš„æ“ä½œã€‚ç‰¹ç‚¹æ˜¯æ¯”è¾ƒç†Ÿç»ƒçš„ä½¿ç”¨xmlæ¥å®šä¹‰åŠ¨ç”»ï¼ŒåŠ¨ç”»è¡”æ¥åšå¾—æ¯”è¾ƒå¥½ã€‚</p>
</blockquote>
</li><li><p><a href='https://github.com/saulmm/Android-Material-Examples' title='' target='_blank'>Android-Material-Examples</a></p>
<blockquote>
<p>ä¸»è¦ç‰¹ç‚¹æ˜¯ä»‹ç»ViewPagerä¸­å®ç°çš„ä¸€äº›TransitionåŠ¨ç”»</p>
</blockquote>
</li><li><p><a href='http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2015/0130/2384.html' title='' target='_blank'>ViewOverlayä¸animationä»‹ç»</a></p>
<blockquote>
<p>ViewOverlayä¸animationä»‹ç»ã€‚Transitionåœ¨ReturnTransitionåŠ¨ç”»æ—¶ï¼Œä¼šåœ¨ç¬¬ä¸€ä¸ªé¡µé¢rootViewçš„overlapä¸Šæ·»åŠ ImageViewæ¥æ‰§è¡ŒåŠ¨ç”»ã€‚è¿™ç¯‡æ–‡ç« è¯¦ç»†ä»‹ç»äº†Androidä¸­ViewOverlayçš„ç”¨å¤„å’ŒåŸç†ã€‚</p>
</blockquote>
</li></ul>
<h3 id="åã€åŠ¨ç”»ç›¸å…³">åã€åŠ¨ç”»ç›¸å…³</h3><ul>
<li style="list-style: none"><input class="eedoc_todo" type="checkbox" disabled=""> <a href='https://medium.com/@andkulikov/animate-all-the-things-transitions-in-android-914af5477d50#.4exs3bozi' title='' target='_blank'>https://medium.com/@andkulikov/animate-all-the-things-transitions-in-android-914af5477d50#.4exs3bozi</a> TransitionManager</li><li style="list-style: none"><input class="eedoc_todo" type="checkbox" disabled=""> <a href='https://material.io/design/motion/speed.html#duration' title='' target='_blank'>https://material.io/design/motion/speed.html#duration</a></li><li style="list-style: none"><input class="eedoc_todo" type="checkbox" disabled=""> <a href='https://github.com/daimajia/AndroidViewAnimations' title='' target='_blank'>https://github.com/daimajia/AndroidViewAnimations</a></li><li style="list-style: none"><input class="eedoc_todo" type="checkbox" disabled=""> <a href='https://medium.com/@evanchen76/android-animation-30%E5%A4%A9%E4%B8%8A%E6%89%8B-day29-%E5%9F%BA%E6%96%BC%E7%89%A9%E7%90%86%E7%9A%84%E5%8B%95%E7%95%AB-spring-animation-flinganimation-1eceeddeddb6' title='' target='_blank'>https://medium.com/@evanchen76/android-animation-30%E5%A4%A9%E4%B8%8A%E6%89%8B-day29-%E5%9F%BA%E6%96%BC%E7%89%A9%E7%90%86%E7%9A%84%E5%8B%95%E7%95%AB-spring-animation-flinganimation-1eceeddeddb6</a></li><li style="list-style: none"><input class="eedoc_todo" type="checkbox" disabled=""> <a href='https://medium.com/@evanchen76/android-animation-30%E5%A4%A9%E4%B8%8A%E6%89%8B-day30-android-animation-%E7%B8%BD%E7%B5%90-88cd00d1957d' title='' target='_blank'>https://medium.com/@evanchen76/android-animation-30%E5%A4%A9%E4%B8%8A%E6%89%8B-day30-android-animation-%E7%B8%BD%E7%B5%90-88cd00d1957d</a></li><li style="list-style: none"><input class="eedoc_todo" type="checkbox" disabled=""> <a href='https://medium.com/@evanchen76' title='' target='_blank'>https://medium.com/@evanchen76</a></li><li style="list-style: none"><input class="eedoc_todo" type="checkbox" disabled=""> <a href='https://github.com/florent37/ViewAnimator' title='' target='_blank'>https://github.com/florent37/ViewAnimator</a></li><li style="list-style: none"><input class="eedoc_todo" type="checkbox" disabled=""> <a href='https://github.com/airbnb/lottie-android' title='' target='_blank'>https://github.com/airbnb/lottie-android</a></li><li style="list-style: none"><input class="eedoc_todo" type="checkbox" disabled=""> <a href='https://github.com/OCNYang/Android-Animation-Set' title='' target='_blank'>https://github.com/OCNYang/Android-Animation-Set</a></li><li style="list-style: none"><input class="eedoc_todo" type="checkbox" disabled=""> <a href='https://github.com/Pluckypan/DDU' title='' target='_blank'>https://github.com/Pluckypan/DDU</a> è´èˆå°”æ›²çº¿</li><li style="list-style: none"><input class="eedoc_todo" type="checkbox" disabled=""> <a href='https://mp.weixin.qq.com/s/PEBYvK0m4V53lPpzEPL2OA?utm_source=androidweekly.io&amp;utm_medium=website' title='' target='_blank'>https://mp.weixin.qq.com/s/PEBYvK0m4V53lPpzEPL2OA?utm_source=androidweekly.io&amp;utm_medium=website</a></li><li style="list-style: none"><input class="eedoc_todo" type="checkbox" disabled=""> <a href='https://kaixue.io/kotlin-coroutines-1/?utm_source=androidweekly.io&amp;utm_medium=website' title='' target='_blank'>https://kaixue.io/kotlin-coroutines-1/?utm_source=androidweekly.io&amp;utm_medium=website</a></li><li style="list-style: none"><input class="eedoc_todo" type="checkbox" disabled=""> <a href='https://www.cnblogs.com/dasusu/p/8647702.html' title='' target='_blank'>https://www.cnblogs.com/dasusu/p/8647702.html</a> View.animate();  </li></ul>
<h3 id="åä¸€ã€ç»“å°¾">åä¸€ã€ç»“å°¾</h3><p><a href='https://github.com/Pluckypan/HollyTransition' title='' target='_blank'><img src='https://img.shields.io/github/forks/pluckypan/HollyTransition.svg?style=social' alt='' width='auto' height='auto' style='width:autopx !important;height:autopx !important;'></a>
<a href='https://github.com/Pluckypan/HollyTransition' title='' target='_blank'><img src='https://img.shields.io/github/stars/pluckypan/HollyTransition.svg?style=social' alt='' width='auto' height='auto' style='width:autopx !important;height:autopx !important;'></a>
<a href='https://github.com/pluckypan/followers' title='' target='_blank'><img src='https://img.shields.io/github/followers/pluckypan.svg?style=social' alt='' width='auto' height='auto' style='width:autopx !important;height:autopx !important;'></a></p>
<p>æœ¬æ–‡ç¤ºä¾‹ä»£ç : <a href='mailto:`git@github.com' title='' target='_blank'>`git@github.com</a>:Pluckypan/HollyTransition.git` <a href='https://github.com/Pluckypan/HollyTransition' title='' target='_blank'>é¢„è§ˆ</a> æ¬¢è¿Starã€Fork</p>

                                        </div>
                                    </article>
                                    <div class="article-end"
                                        data-v-5762947c data-v-125fc212>
                                        
                                    </div>
                                    <div
    data-v-738d100d
    data-v-125fc212
    data-jj-helper="comment-container"
    class="post-comment" data-v-5762947c>
    <link rel="stylesheet" href="../css/gitalk.css">
    
    <div class="message-card add-top" id="comment-card">
	<div class="gitalk_container">
		<div id="gitalk-container"></div>
		<link rel="stylesheet" href="https://unpkg.com/gitalk@latest/dist/gitalk.css"
			async>
		<script src="https://unpkg.com/gitalk@latest/dist/gitalk.min.js" async></script>
		<script type="text/javascript">
			let initGitalk = ()=> {
				if (typeof(Gitalk) == 'undefined') {
                    setTimeout(initGitalk, 20);
                    return;
                } 
				let gitalk = new Gitalk({
				clientID: "7e48ff7dd55f15c9f051",
				clientSecret: "a5a35f0a17ee770eabd97358255ec6839486a7dd",
				repo: "gitalk.echo.engineer",
				owner: "Pluckypan",
				admin: "Pluckypan",
				distractionFreeMode: "true",
				labels: ['post']
			});
				gitalk.render('gitalk-container');
			}
			$(()=>{
				initGitalk();
			})
		</script>
	</div>
</div>
    
</div>
                                </div>
                                <div id="sidebar-container"
                                    class="sidebar article-sidebar"
                                    data-v-5a150454 data-v-125fc212
                                    data-v-5762947c>
                                    <div
    data-v-7e7e812a
    data-v-05741537
    data-v-5a150454
    class="sidebar-block wechat-sidebar-block pure wechat-ad">
    <div data-v-05741537 data-v-7e7e812a class="ad-container">
        <div data-v-05741537 data-v-7e7e812a class="text-container">
            <div data-v-05741537 data-v-7e7e812a class="text-description">
                æ‰¾å¯¹å±äºä½ çš„æŠ€æœ¯åœˆå­
            </div>

            <div data-v-05741537 data-v-7e7e812a class="text-reply">
                å›å¤ã€Œè¿›ç¾¤ã€åŠ å…¥å®˜æ–¹å¾®ä¿¡ç¾¤
            </div>
        </div>
        <img
            data-v-05741537
            data-v-7e7e812a
            src="../assets/qrcode.png"
            loading="lazy"
            class="qr-code" />
    </div>
</div>

                                    <div class data-v-5a150454 id="jj_post_nav">
    <nav
        class="article-catalog catalog-block"
        data-v-6239701c
        data-v-16ed86c3
        data-v-5a150454>
        <div class="catalog-title" data-v-6239701c>
            <div data-v-6239701c>ç›®å½•</div>
            <div class="direction" data-v-6239701c>
                <div class="word" data-v-6239701c>æ”¶èµ·</div>
                <svg
                    id="icon_expand_toogle"
                    width="12"
                    height="12"
                    viewBox="0 0 12 12"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                    class="icon-rotate"
                    data-v-6239701c>
                    <g
                        id="&amp;#229;&amp;#177;&amp;#149;&amp;#229;&amp;#188;&amp;#128;"
                        data-v-6239701c>
                        <path
                            id="&amp;#232;&amp;#183;&amp;#175;&amp;#229;&amp;#190;&amp;#132;"
                            fill-rule="evenodd"
                            clip-rule="evenodd"
                            d="M5.99854 7.93206L10.0644 3.86619C10.162 3.76856 10.3203 3.76856 10.418 3.86619L10.7715 4.21975C10.8691 4.31738 10.8691 4.47567 10.7715 4.5733L6.35209 8.99272C6.15683 9.18798 5.84025 9.18798 5.64498 8.99272L1.22557 4.5733C1.12794 4.47567 1.12794 4.31738 1.22557 4.21975L1.57912 3.86619C1.67675 3.76856 1.83504 3.76856 1.93267 3.86619L5.99854 7.93206Z"
                            fill="#8A919F"
                            data-v-6239701c></path>
                    </g>
                </svg>
            </div>
        </div>
        <div class="catalog-body unfold" data-v-6239701c>
            <ul class="catalog-list" style="margin-top: 0px" data-v-6239701c>
                
                
                
            </ul>
        </div>
    </nav>

    <script type="text/javascript">
        $(".catalog-aTag").click(function(){
            let id = $(this).attr("target_id");
            $('html, body').animate({
                scrollTop: ($(id).offset().top-80)
            }, 798);
        });
        $(".direction").click(function(){
            $(".catalog-title").removeClass("collapse");
            $("#icon_expand_toogle").attr('class', "");
            if ($(".catalog-body").hasClass("fold")) {
                $(".catalog-body").removeClass("fold");
                $(".catalog-body").addClass("unfold");
                $(".direction>.word").text("æ”¶èµ·");
                $("#icon_expand_toogle").attr('class', "icon-rotate");
            }else{
                $(".catalog-body").removeClass("unfold");
                $(".catalog-body").addClass("fold");
                $(".catalog-title").addClass("collapse");
                $(".direction>.word").text("å±•å¼€");
            }
        });
        $(()=>{
            let tocArray = "";
            let fixedTop = $("#jj_post_nav").offset().top;
            let stickyNav = ()=> {
                let scrollTop = $(window).scrollTop();
                // console.log(`scrollTop=${scrollTop} fixedTop=${fixedTop}`);
                if (scrollTop>fixedTop) {
                    $("#jj_post_nav").addClass("jj_sticky");
                } else {
                    $("#jj_post_nav").removeClass("jj_sticky");
                }
            };
            stickyNav();
            $(window).scroll(()=>{
                stickyNav();
            });
            $("#jj_post_nav").css("display",tocArray.length==0?"none":"");
        });
    </script>

</div>

                                </div>
                                <div data-v-125fc212
    class="article-suspended-panel dynamic-data-ready">
    <svg
        data-v-45561e54
        xmlns="http://www.w3.org/2000/svg"
        class
        style="display: none;">
        <symbol
            data-v-45561e54
            id="icon-comment"
            viewBox="0 0 20 20"
            xmlns="http://www.w3.org/2000/svg">
            <path
                data-v-45561e54
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M4.62739 1.25C2.9347 1.25 1.5625 2.6222 1.5625 4.31489L1.56396 12.643C1.56403 14.3356 2.9362 15.7078 4.62885 15.7078H6.48326L6.93691 17.6869L6.93884 17.6948C7.16894 18.6441 8.28598 19.0599 9.08073 18.4921L12.7965 15.7078H15.5001C17.1928 15.7078 18.565 14.3355 18.565 12.6428L18.5635 4.31477C18.5635 2.62213 17.1913 1.25 15.4986 1.25H4.62739ZM5.98265 9.89255C6.68783 9.89255 7.2595 9.32089 7.2595 8.61571C7.2595 7.91053 6.68783 7.33887 5.98265 7.33887C5.27747 7.33887 4.70581 7.91053 4.70581 8.61571C4.70581 9.32089 5.27747 9.89255 5.98265 9.89255ZM9.95604 9.89255C10.6612 9.89255 11.2329 9.32089 11.2329 8.61571C11.2329 7.91053 10.6612 7.33887 9.95604 7.33887C9.25086 7.33887 8.6792 7.91053 8.6792 8.61571C8.6792 9.32089 9.25086 9.89255 9.95604 9.89255ZM15.2124 8.61571C15.2124 9.32089 14.6407 9.89255 13.9355 9.89255C13.2304 9.89255 12.6587 9.32089 12.6587 8.61571C12.6587 7.91053 13.2304 7.33887 13.9355 7.33887C14.6407 7.33887 15.2124 7.91053 15.2124 8.61571Z"></path>
        </symbol>
        <symbol
            data-v-45561e54 id="icon-zan"
            viewBox="0 0 20 20"
            xmlns="http://www.w3.org/2000/svg">
            <path
                data-v-45561e54
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M10.4167 6.40399C5.35406 6.40399 1.25 10.5675 1.25 15.7035C1.25 16.0225 1.28448 16.4512 1.35344 16.9898C1.36807 17.1039 1.47243 17.1846 1.58655 17.17C1.6483 17.1621 1.70328 17.127 1.73643 17.0743L1.86865 16.8676C1.99553 16.6731 2.10644 16.5147 2.20137 16.3925C3.69554 14.4692 6.13777 13.3823 9.35515 13.3378L10.4167 13.3364V17.0757C10.4167 17.3101 10.6086 17.5 10.8453 17.5C10.959 17.5 11.068 17.4553 11.1483 17.3757L18.145 10.45C18.3961 10.2015 18.3961 9.79853 18.145 9.55L11.1483 2.62426C10.981 2.45858 10.7096 2.45858 10.5422 2.62426C10.4618 2.70383 10.4167 2.81174 10.4167 2.92426V6.40399Z"></path>
        </symbol>
        <symbol
            data-v-45561e54
            id="icon-immerse"
            viewBox="0 0 1024 1024"
            xmlns="http://www.w3.org/2000/svg">
            <path
                data-v-45561e54
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M535.466667 241.066667c-12.8-8.533333-27.733333-8.533333-40.533334 0L183.466667 488.533333c-6.4 6.4-12.8 14.933333-12.8 23.466667 0 2.133333 0 6.4 2.133333 8.533333 2.133333 12.8 14.933333 21.333333 27.733333 21.333334h155.733334v322.133333c0 19.2 12.8 29.866667 32 29.866667h249.6c21.333333 0 34.133333-12.8 34.133333-29.866667v-320h151.466667c12.8 0 25.6-8.533333 27.733333-21.333333s0-25.6-8.533333-34.133334L535.466667 241.066667zM864 96h-704C142.933333 96 128 110.933333 128 128s14.933333 32 32 32h704c17.066667 0 32-14.933333 32-32s-14.933333-32-32-32z"></path>
        </symbol>
    </svg>
    <div data-v-45561e54 badge="222"
        class="panel-btn with-badge-x">
        <svg
            data-v-6e70c50a
            data-v-45561e54
            class="sprite-icon icon-zan">
            <use
                data-v-6e70c50a
                xlink:href="#icon-zan">
            </use>
        </svg>
    </div>
    <div data-v-45561e54 badge="109"
        class="panel-btn with-badge-x" id="toolbar_btn_comment">
        <svg
            data-v-6e70c50a data-v-45561e54
            class="sprite-icon icon-comment">
            <use
                data-v-6e70c50a
                xlink:href="#icon-comment">
            </use>
        </svg>
    </div>
    <div data-v-45561e54 class="panel-btn" id="toolbar_btn_top">
        <svg
            data-v-6e70c50a
            data-v-45561e54
            class="sprite-icon icon-report">
            <use
                data-v-6e70c50a
                xlink:href="#icon-immerse">
            </use>
        </svg>
    </div>
    <script type="text/javascript">
        $("#toolbar_btn_comment").click(()=>{
            $('html, body').animate({
                scrollTop: ($('#comment-card').offset().top - 120)
            }, 798);
        });
        $("#toolbar_btn_top").click(()=>{
            $('html, body').animate({
                scrollTop: 0
            }, 798);
        });
    </script>
</div>
                            </div>
                        </main>
                    </div>
                    <div class="global-component-box">

                    </div>

                </div>
            </div>
        </div>
    </body>

</html>